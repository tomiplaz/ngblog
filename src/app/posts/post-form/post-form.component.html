<form [formGroup]="postForm" (ngSubmit)="onSubmit()" novalidate>
  <div class="bold margin-bottom-s">NEW POST</div>
  <input type="text" name="title" placeholder="Title" formControlName="title"/>
  <textarea name="content" placeholder="Content" formControlName="content"></textarea>
  <div>
    <input
      type="text"
      name="tag"
      placeholder="Tag"
      maxlength="20"
      formControlName="tag"
      (keypress)="onTagInputKeyPress($event)"
    />
    <button
      type="button"
      [disabled]="!postForm.controls.tag.value || postForm.controls.tag.errors || tags.length >= 5"
      (click)="onAddTagClick()">
      Add
    </button>
    <p *ngIf="postForm.controls.tag.invalid && postForm.controls.tag.errors.pattern">
      Please use letters and numbers only
    </p>
    <div class="margin-bottom-s">
      <span class="bold">TAGS</span>
      <ng-container *ngIf="tags.length">
        <ng-container *ngFor="let tag of tags">
          <span (click)="onTagClick(tag)">#{{ tag }}</span>
        </ng-container>
      </ng-container>
      <ng-container *ngIf="!tags.length">/</ng-container>
    </div>
  </div>
  <button type="submit" [disabled]="postForm.invalid">Submit</button>
</form>